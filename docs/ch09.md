# 9. Organizing Data

Use _Split Variable_ to separate the usages of a variable for different purposes.

_Rename Variable_ to get a variable's name right.

Get rid of a variable completely with _Replace Derived Variable with Query_.

Use

- _Change Reference to Value_
- _Change Value to Reference_

to change between reference and value.

## 9.1 Split Variable

### Motivation

Any variable with more than one responsibility should be replaced with multiple variables.

### Mechanics

- Change the name of the variable at its declaration and first assignment.
- If possible, declare the new variables as immutable.
- Change all references of the variable up to its second assignment.
- Test.
- Repeat in stages, at each stage renaming the variable at the declaration and changing references until the next
  assignment, until you reach the final assignment.

## 9.2 Rename Field

### Motivation

You may want to rename a field in a record structure. Getter and setter methods form an effective field for users of the
class. Renaming them is just as important as with bare record structures.

### Mechanics

- If the record has limited scope, rename all accesses to the field and test; no need to do the rest of the mechanics.
- If the record isn't already encapsulated, apply _Encapsulate Record_.
- Rename the private field inside the object, adjust internal methods to fit.
- Test.
- If the constructor uses the name, apply _Change Function Declaration_ to rename it.
- Apply _Rename Function_ to the accessors.

## 9.3 Replace Derived Variable with Query

### Motivation

### Mechanics

## 9.4 Change Reference to Value

### Motivation

### Mechanics

## 9.5 Change Value to Reference

### Motivation

### Mechanics

## 9.6 Replace Magic Literal

### Motivation

Magic literals are common literal values that appear in the source code.

Usually, the best thing to do is replace the value with a constant named after its meaning.

### Mechanics

- Declare a constant and set it to the magic literal.
- Search for all appearances of the literal.
- For each, see if its use matches the meaning of the new constant. If so, replace it with the new constant and test.

Once done, a good way to check is to change the value of the constant and see if the tests fully reflect this change.

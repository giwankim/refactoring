# 7. Encapsulation

Perhaps the most important criteria for decomposing modules is to identify secrets that modules should hide from the
rest of the system.

Hide data structures by

- _Encapsulate Record_
- _Encapsulate Collection_

Even primitive data types can be encapsulated with _Replace Primitive with Object_.

Use _Replace Temp with Query_ for temporary variables that get in the way of refactoring.

Form classes with _Combine Functions into Class_. Extract/inline operations also apply to classes with _Extract Class_
and _Inline Class_.

To hide connections between classes, use _Hide Delegate_. If too much hiding leads to bloated interfaces, reverse with
_Remove Middle Man_.

Functions also encapsulate their implementation. Make wholesale change to an algorithm by wrapping it in a function with
_Extract Function_ and _Substitute Algorithm_.
